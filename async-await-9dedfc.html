<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>async/awaitæ‰§è¡Œé¡ºåºåˆ†æ&nbsp;|&nbsp;Zhaoâ€™s Blog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="async/awaitæ‰§è¡Œé¡ºåºåˆ†æ">
  
    <meta name="description" content="async/awaitæ‰§è¡Œé¡ºåº">
    <meta property="og:description" content="async/awaitæ‰§è¡Œé¡ºåº">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="async-await-9dedfc.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>async/awaitæ‰§è¡Œé¡ºåºåˆ†æ</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">async/awaitæ‰§è¡Œé¡ºåºåˆ†æ</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Tue, May 9, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--yellow">
            <a href="tag/JavaScript.html">JavaScript</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--green">
            <a href="tag/Front End.html">Front End</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/9dedfc66258a497081031caf20640b39" class="PageRoot PageRoot--FullWidth"><ul id="https://www.notion.so/c504e0205e624fe9b2e400eaa56bff58" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/ac9cc4204db9401f90b6121d70fc1cc8"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">ç®€ä»‹</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fb0af96a84d04341a0f3986f89e24a80"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">ç¤ºä¾‹1</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f07f19847bcd4b6f9eca5b3993b43c7a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">åˆ†æ</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8e6ce6321fcf41439e377b5d31dc84e0"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">ç¤ºä¾‹2</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/cedf37da6bc14f2594abcd965b3ea7ca"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">åˆ†æ</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/941dc061e5b841e38043260b1d83152d"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">ç¤ºä¾‹2.1</span></span></div></a></li></ul><h2 id="https://www.notion.so/ac9cc4204db9401f90b6121d70fc1cc8" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ac9cc4204db9401f90b6121d70fc1cc8"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ç®€ä»‹</span></span></h2><div id="https://www.notion.so/9a3e04b098384031b0c42ca8e1fd4ce1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">async</code></span><span class="SemanticString">éšå¼è¿”å› Promise ä½œä¸ºç»“æœçš„å‡½æ•°,é‚£ä¹ˆå¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œawaitåé¢çš„å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œawaitä¼šäº§ç”Ÿä¸€ä¸ªå¾®ä»»åŠ¡(Promise.thenæ˜¯å¾®ä»»åŠ¡)ã€‚ä½†æ˜¯æˆ‘ä»¬è¦æ³¨æ„è¿™ä¸ªå¾®ä»»åŠ¡äº§ç”Ÿçš„æ—¶æœºï¼Œå®ƒæ˜¯æ‰§è¡Œå®Œawaitä¹‹åï¼Œç›´æ¥è·³å‡ºasyncå‡½æ•°ï¼Œæ‰§è¡Œå…¶ä»–ä»£ç (æ­¤å¤„å°±æ˜¯åç¨‹çš„è¿ä½œï¼ŒAæš‚åœæ‰§è¡Œï¼Œæ§åˆ¶æƒäº¤ç»™B)ã€‚å…¶ä»–ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œå†å›åˆ°asyncå‡½æ•°å»æ‰§è¡Œå‰©ä¸‹çš„ä»£ç ï¼Œç„¶åæŠŠawaitåé¢çš„ä»£ç æ³¨å†Œåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—å½“ä¸­ã€‚</span></span></p></div><h2 id="https://www.notion.so/fb0af96a84d04341a0f3986f89e24a80" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fb0af96a84d04341a0f3986f89e24a80"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ç¤ºä¾‹1</span></span></h2><pre id="https://www.notion.so/d61cbaedf16d437cb374696c36e7d222" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span>

<span class="token comment">// script start => async2 end => Promise => script end => promise1 => promise2 => async1 end => setTimeout</span></span></span></span></code></pre><h3 id="https://www.notion.so/f07f19847bcd4b6f9eca5b3993b43c7a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f07f19847bcd4b6f9eca5b3993b43c7a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">åˆ†æ</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/63cfb2a77ce9424488435deeb8a8d623" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œä»£ç ï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">script start</code></span><span class="SemanticString">ã€‚</span></span></li><li id="https://www.notion.so/a59a643da3b74d1c9ecdb23da46d7a49" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œasync1(),ä¼šè°ƒç”¨async2(),ç„¶åè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">async2 end</code></span><span class="SemanticString">,æ­¤æ—¶å°†ä¼šä¿ç•™async1å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åè·³å‡ºasync1å‡½æ•°ã€‚</span></span></li><li id="https://www.notion.so/c918aaa5df704b82a3434ada714bc117" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">é‡åˆ°setTimeoutï¼Œäº§ç”Ÿä¸€ä¸ªå®ä»»åŠ¡</span></span></li><li id="https://www.notion.so/08a45a962b0349f581c038c5e0daeb5f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡ŒPromiseï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Promise</code></span><span class="SemanticString">ã€‚é‡åˆ°thenï¼Œäº§ç”Ÿç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡</span></span></li><li id="https://www.notion.so/11b3327bf92b42c0be471821f9370d6e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ç»§ç»­æ‰§è¡Œä»£ç ï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">script end</code></span></span></li><li id="https://www.notion.so/5b3842ccdcb9488f9f362652741e3892" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ä»£ç é€»è¾‘æ‰§è¡Œå®Œæ¯•(å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•)ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡äº§ç”Ÿçš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">promise1</code></span><span class="SemanticString">ï¼Œè¯¥å¾®ä»»åŠ¡é‡åˆ°thenï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å¾®ä»»åŠ¡</span></span></li><li id="https://www.notion.so/c4420096900b48a2a351f9b46b8ebed0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œäº§ç”Ÿçš„å¾®ä»»åŠ¡ï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">promise2</code></span><span class="SemanticString">,å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•ã€‚æ‰§è¡Œæƒå›åˆ°async1</span></span></li><li id="https://www.notion.so/85df796e13d844e49b96d04790c7f753" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œawait,å®é™…ä¸Šä¼šäº§ç”Ÿä¸€ä¸ªpromiseè¿”å›ï¼Œå³</span></span></li></ul><pre id="https://www.notion.so/9fe3f407649244b9a314d6933a8e5a8e" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>let promise_ = new Promise((resolve,reject){ resolve(undefined)})
å¤åˆ¶ä»£ç </span></span></span></code></pre><div id="https://www.notion.so/91aa99672de2429988fd57ccea373c00" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œå®Œæˆï¼Œæ‰§è¡Œawaitåé¢çš„è¯­å¥ï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">async1 end</code></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/021d7c00d6044e979288a5087649b1fa" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">æœ€åï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå³æ‰§è¡ŒsetTimeoutï¼Œè¾“å‡º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">setTimeout</code></span></span></li></ul><h2 id="https://www.notion.so/8e6ce6321fcf41439e377b5d31dc84e0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/8e6ce6321fcf41439e377b5d31dc84e0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ç¤ºä¾‹2</span></span></h2><pre id="https://www.notion.so/8420968917e8420ba101a67919f78739" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end'</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span>
	  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end1'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span>

<span class="token comment">// script start => async2 end => Promise => script end => async1 end => promise1 => promise2 => setTimeout</span></span></span></span></code></pre><div id="https://www.notion.so/005c7fd143264a4fa141450a9223bc35" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸ä¸Šé¢ä¾‹å­ä¸åŒçš„æ˜¯ï¼Œasync2æ–¹æ³•è¿”å›äº†ä¸€ä¸ªå¼‚æ­¥å›è°ƒ</span></span></p></div><h3 id="https://www.notion.so/cedf37da6bc14f2594abcd965b3ea7ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/cedf37da6bc14f2594abcd965b3ea7ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">åˆ†æ</span></span></h3><div id="https://www.notion.so/c686f4c49dae495488a1bc255a4570c4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœawait åé¢ç›´æ¥è·Ÿçš„ä¸ºä¸€ä¸ªå˜é‡ï¼Œæ¯”å¦‚ï¼šawait 1ï¼›è¿™ç§æƒ…å†µçš„è¯ç›¸å½“äºç›´æ¥æŠŠawaitåé¢çš„ä»£ç æ³¨å†Œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºpromise.then(awaitä¸‹é¢çš„ä»£ç )ã€‚ç„¶åè·³å‡ºasync1å‡½æ•°ï¼Œæ‰§è¡Œå…¶ä»–ä»£ç ï¼Œå½“é‡åˆ°promiseå‡½æ•°çš„æ—¶å€™ï¼Œä¼šæ³¨å†Œpromise.then()å‡½æ•°åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ³¨æ„æ­¤æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å·²ç»å­˜åœ¨awaitåé¢çš„å¾®ä»»åŠ¡ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¼šå…ˆæ‰§è¡Œawaitåé¢çš„ä»£ç ï¼ˆasync1 endï¼‰ï¼Œå†æ‰§è¡Œasync1å‡½æ•°åé¢æ³¨å†Œçš„å¾®ä»»åŠ¡ä»£ç (promise1,promise2)ã€‚</span></span></p></div><div id="https://www.notion.so/f5838e50ecab4a4490960fd4195263ec" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™ä¸ªæ—¶å€™ï¼ŒéªŒè¯ä¸€ä¸‹è¿™ä¸ªç»“è®ºï¼Œä¹Ÿå°±æ˜¯æŠŠä¸Šé¢async2å‡½æ•°é‡Œçš„return å»æ‰ï¼š</span></span></p></div><h3 id="https://www.notion.so/941dc061e5b841e38043260b1d83152d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/941dc061e5b841e38043260b1d83152d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ç¤ºä¾‹2.1</span></span></h3><pre id="https://www.notion.so/47cc9e560ea14de3a038bc59829c43e8" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end'</span><span class="token punctuation">)</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2 end1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span>

<span class="token comment">// script start => async2 end => Promise => script end => async2 end1 => async1 end => promise1 => promise2 =>  => setTimeout</span></span></span></span></code></pre><div id="https://www.notion.so/7f4cb354a253469b9fa94cc2e7d380f1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/cb9105f211b24ba899878d242cacf6af" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Zhaoâ€™s Blog 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>